<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.88e9b265201cfa597d0f.css" id="gatsby-global-css">@font-face{font-family:et-book;src:url(/static/et-book-roman-line-figures-b19f46f303d02748059251cee2aa6abb.eot);src:url(/static/et-book-roman-line-figures-b19f46f303d02748059251cee2aa6abb.eot?#iefix) format("embedded-opentype"),url(/static/et-book-roman-line-figures-10d6df6a575fb60ab98d2a7d3792642a.woff) format("woff"),url(/static/et-book-roman-line-figures-d54d0bf6aa7fcf3279d8812acb322c06.ttf) format("truetype"),url(/static/et-book-roman-line-figures-f5cdc02ed1cefd2255d254a77c64b7bd.svg#etbookromanosf) format("svg");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:et-book;src:url(/static/et-book-display-italic-old-style-figures-a47b89787a4f7491180c40ec69d57998.eot);src:url(/static/et-book-display-italic-old-style-figures-a47b89787a4f7491180c40ec69d57998.eot?#iefix) format("embedded-opentype"),url(/static/et-book-display-italic-old-style-figures-43eb7a3417177f8f0fff766082379da5.woff) format("woff"),url(/static/et-book-display-italic-old-style-figures-d6175af437d22f14e7cf64c370adc879.ttf) format("truetype"),url(/static/et-book-display-italic-old-style-figures-0692c0388390239d27fd414060b46df3.svg#etbookromanosf) format("svg");font-weight:400;font-style:italic;font-display:swap}@font-face{font-family:et-book;src:url(/static/et-book-bold-line-figures-7ed918f3e796962afd05f4a02fb3f84f.eot);src:url(/static/et-book-bold-line-figures-7ed918f3e796962afd05f4a02fb3f84f.eot?#iefix) format("embedded-opentype"),url(/static/et-book-bold-line-figures-1c130d09324dbeb3ba2e5a2f9d788a6f.woff) format("woff"),url(/static/et-book-bold-line-figures-5294d5d521aab523c8acd8ac96cfe4c0.ttf) format("truetype"),url(/static/et-book-bold-line-figures-13c073673fed13df2e115720aa3de09a.svg#etbookromanosf) format("svg");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:et-book-roman-old-style;src:url(/static/et-book-roman-old-style-figures-fc7b0f1d982d0029eacba5dd89bf8562.eot);src:url(/static/et-book-roman-old-style-figures-fc7b0f1d982d0029eacba5dd89bf8562.eot?#iefix) format("embedded-opentype"),url(/static/et-book-roman-old-style-figures-b1b6ddd0b0609c451978017ef81d11b9.woff) format("woff"),url(/static/et-book-roman-old-style-figures-638c7cda0684c1644411d3849e61995f.ttf) format("truetype"),url(/static/et-book-roman-old-style-figures-3885093b224ae98aa11a95c8882f1177.svg#etbookromanosf) format("svg");font-weight:400;font-style:normal;font-display:swap}html{font-size:15px}body{width:87.5%;margin-left:auto;margin-right:auto;padding-left:12.5%;font-family:et-book,Palatino,Palatino Linotype,Palatino LT STD,Book Antiqua,Georgia,serif;background-color:#fffff8;color:#111;max-width:1400px;counter-reset:sidenote-counter}@media (prefers-color-scheme:dark){body{background-color:#151515;color:#ddd}}h1{font-weight:400;margin-top:4rem;margin-bottom:1.5rem;font-size:3.2rem;line-height:1}h2{margin-top:2.1rem;font-size:2.2rem}h2,h3{font-style:italic;font-weight:400;margin-bottom:1.4rem;line-height:1}h3{font-size:1.7rem;margin-top:2rem}hr{display:block;height:1px;width:55%;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}p.subtitle{font-style:italic;margin-top:1rem;margin-bottom:1rem;font-size:1.8rem;display:block;line-height:1}.numeral{font-family:et-book-roman-old-style}.danger{color:red}article{padding:5rem 0}section{padding-top:1rem;padding-bottom:1rem}dl,ol,p,ul{font-size:1.4rem;line-height:2rem}p{margin-top:1.4rem;margin-bottom:1.4rem;padding-right:0;vertical-align:baseline}div.epigraph{margin:5em 0}div.epigraph>blockquote{margin-top:3em;margin-bottom:3em}div.epigraph>blockquote,div.epigraph>blockquote>p{font-style:italic}div.epigraph>blockquote>footer{font-style:normal}div.epigraph>blockquote>footer>cite{font-style:italic}blockquote{font-size:1.4rem}blockquote p{width:55%;margin-right:40px}blockquote footer{width:55%;font-size:1.1rem;text-align:right}section>footer,section>p,section>table{width:55%}section>dl,section>ol,section>ul{width:50%;-webkit-padding-start:5%}dt:not(:first-child),li:not(:first-child){margin-top:.25rem}figure{padding:0;border:0;font-size:100%;font:inherit;max-width:55%;-webkit-margin-start:0;-webkit-margin-end:0;margin:0 0 3em}figcaption,figure{vertical-align:baseline}figcaption{float:right;clear:right;margin-top:0;margin-bottom:0;font-size:1.1rem;line-height:1.6;position:relative;max-width:40%}figure.fullwidth figcaption{margin-right:24%}a:link,a:visited{color:inherit}.no-tufte-underline:link{background:unset;text-shadow:unset}.hover-tufte-underline:hover,.tufte-underline,a:link{text-decoration:none;background:linear-gradient(#fffff8,#fffff8),linear-gradient(#fffff8,#fffff8),linear-gradient(currentColor,currentColor);background-size:.05em 1px,.05em 1px,1px 1px;background-repeat:no-repeat,no-repeat,repeat-x;text-shadow:.03em 0 #fffff8,-.03em 0 #fffff8,0 .03em #fffff8,0 -.03em #fffff8,.06em 0 #fffff8,-.06em 0 #fffff8,.09em 0 #fffff8,-.09em 0 #fffff8,.12em 0 #fffff8,-.12em 0 #fffff8,.15em 0 #fffff8,-.15em 0 #fffff8;background-position:0 93%,100% 93%,0 93%}@media screen and (-webkit-min-device-pixel-ratio:0){.hover-tufte-underline:hover,.tufte-underline,a:link{background-position-y:87%,87%,87%}}@media (prefers-color-scheme:dark){.hover-tufte-underline:hover,.tufte-underline,a:link{text-shadow:.03em 0 #151515,-.03em 0 #151515,0 .03em #151515,0 -.03em #151515,.06em 0 #151515,-.06em 0 #151515,.09em 0 #151515,-.09em 0 #151515,.12em 0 #151515,-.12em 0 #151515,.15em 0 #151515,-.15em 0 #151515}}a:link::-moz-selection,a:link::selection{text-shadow:.03em 0 #b4d5fe,-.03em 0 #b4d5fe,0 .03em #b4d5fe,0 -.03em #b4d5fe,.06em 0 #b4d5fe,-.06em 0 #b4d5fe,.09em 0 #b4d5fe,-.09em 0 #b4d5fe,.12em 0 #b4d5fe,-.12em 0 #b4d5fe,.15em 0 #b4d5fe,-.15em 0 #b4d5fe;background:#b4d5fe}img{max-width:100%}.marginnote,.sidenote{float:right;clear:right;margin-right:-60%;width:50%;margin-top:.3rem;margin-bottom:0;font-size:1.1rem;line-height:1.3;vertical-align:baseline;position:relative}.sidenote-number{counter-increment:sidenote-counter}.sidenote-number:after,.sidenote:before{font-family:et-book-roman-old-style;position:relative;vertical-align:baseline}.sidenote-number:after{content:counter(sidenote-counter);font-size:1rem;top:-.5rem;left:.1rem}.sidenote:before{content:counter(sidenote-counter) " ";font-size:1rem;top:-.5rem}blockquote .marginnote,blockquote .sidenote{margin-right:-82%;min-width:59%;text-align:left}div.fullwidth,table.fullwidth{width:100%}div.table-wrapper{overflow-x:auto;font-family:Trebuchet MS,Gill Sans,Gill Sans MT,sans-serif}.sans{font-family:Gill Sans,Gill Sans MT,Calibri,sans-serif;letter-spacing:.03em}code,pre>code{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:1rem;line-height:1.42;-webkit-text-size-adjust:100%}.sans>code{font-size:1.2rem}h1>code,h2>code,h3>code{font-size:.8em}.marginnote>code,.sidenote>code{font-size:1rem}pre>code{font-size:.9rem;width:52.5%;margin-left:2.5%;overflow-x:auto;display:block}pre.fullwidth>code{width:90%}.fullwidth{max-width:90%;clear:both}span.newthought{font-variant:small-caps;font-size:1.2em}input.margin-toggle{display:none}label.sidenote-number{display:inline-block;max-height:2rem}label.margin-toggle:not(.sidenote-number){display:none}.iframe-wrapper{position:relative;padding-bottom:56.25%;padding-top:25px;height:0}.iframe-wrapper iframe{position:absolute;top:0;left:0;width:100%;height:100%}@media (max-width:760px){body{width:84%;padding-left:8%;padding-right:8%}hr,section>footer,section>p,section>table{width:100%}pre>code{width:97%}section>dl,section>ol,section>ul{width:90%}figure{max-width:90%}figcaption,figure.fullwidth figcaption{margin-right:0;max-width:none}blockquote{margin-left:1.5em;margin-right:0}blockquote footer,blockquote p{width:100%}label.margin-toggle:not(.sidenote-number){display:inline}.marginnote,.sidenote{display:none}.margin-toggle:checked+.marginnote,.margin-toggle:checked+.sidenote{display:block;float:left;left:1rem;clear:both;width:95%;margin:1rem 2.5%;vertical-align:baseline;position:relative}label{cursor:pointer}div.table-wrapper,table{width:85%}img{width:100%}}</style><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true"></title><link as="script" rel="preload" href="/webpack-runtime-969c07431224231c0f8f.js"/><link as="script" rel="preload" href="/framework-3e6dec6139dadaa7d0c7.js"/><link as="script" rel="preload" href="/styles-9411612e31e4f14527d1.js"/><link as="script" rel="preload" href="/app-c474f2b04f2725bec8ba.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-9c3ee7bf412a007fbf2c.js"/><link as="fetch" rel="preload" href="/page-data/buffering/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><a style="font-size:1.6rem" href="/">‚Üê Back home</a><h1>Why Does My Video Load Slow?</h1><style data-emotion-css="wvcn4j">.css-wvcn4j{margin-top:10px;color:#606060;}</style><h3 class="css-wvcn4j elc5l150">19 March, 2020<!-- --> - <!-- -->4 min read</h3><style data-emotion-css="iujih3">.css-iujih3 pre > code{width:inherit;}</style><div class="css-iujih3 elc5l151"><p>This week I want to talk about something we're working on right now. It's one of the most common complaints we've heard recently - videos pausing and loading while you watch them. We call this problem <em>buffering</em>.</p>
<p><img src="https://i.imgur.com/5jFOxTB.jpg" alt=""></p>
<h2>What is buffering?</h2>
<p>A buffer is a place to store data. Video buffering means that you've reached the end of the data you've downloaded so far, and you must wait until more data is downloaded before you can keep watching. This can happen if you're watching a video at the same time as you're downloading it (aka how most people watch video these days).</p>
<h2>Why do videos buffer?</h2>
<p>The two important numbers to know are network bandwidth and video bitrate.</p>
<p><strong>Bandwidth</strong> is how many bits of data your internet connection can deliver to your computer, per second. You can check yours <a href="https://fast.com/">here</a>. If your connection is 1Mbps, that means you can download one million bits per second.</p>
<p><strong>Bitrate</strong> is how many bits of data a video has, also per second. You can calculate it by dividing the size of the video by the duration. A 30-second video clip thats 60MB in size has a bitrate of 2Mbps. A video's bitrate is affected by many factors, including the dimensions (a larger picture requires more information), quality (more details = more information), and format (compression can reduce the size without losing data). For an extreme example, this <a href="https://lbry.tv/@Rhyflow:f/5d897e731b9ed705334e2d50:9">6.3GB video is two seconds long</a>.</p>
<p>Notice that bandwidth and bitrate are both measured in bits per second. They describe the same thing: an amount of information per unit of time. This means you can compare them. <strong>If your bandwidth is lower than the video bitrate, then you download slower than you watch, and you'll get buffering</strong>. If your bandwidth is higher, then you can download it faster than you can watch it and it is will never have to buffer.</p>
<p>To be pedantic, this all assumes you're watching the video at one second per second. If you listen to interviews or podcasts at 1.5x speed (like I do), you need 50% more bandwidth to avoid buffering.</p>
<h2>How to avoid buffering?</h2>
<p>Centralized services like Youtube avoid buffering by making several compressed copies of your video with reduced bitrates and serving you the one that best matches your internet bandwidth. They also detect when buffering is happening and switch to a lower bitrate. In a peer-to-peer service like LBRY, that's harder to pull off. Without central servers, compression has to be done client-side. Some low-power clients (like cellphones, which have high-resolution cameras) can't be expected to do it.</p>
<p>Our first step to address the problem was simply <a href="https://github.com/lbryio/lbry-desktop/pull/3794">to add a message</a> to the lbry.tv upload page that lets you know when your video is too big for a typical internet connection (we targeted 5Mbps as a reasonable bitrate). The arrow shows the day when we shipped the bitrate alert message. We'll be watching this graph over the next few weeks to see how much of an effect it has.</p>
<p><img src="https://i.imgur.com/qdt0uRo.png" alt=""></p>
<p>We also <a href="https://github.com/lbryio/lbry-sdk/pull/2726">added a flag</a> to the SDK to optimize videos for the web. This option does several things including compression (if necessary) and moving the MP4 metadata to the start of the file (helpful for faster video streaming). For more info, see our <a href="https://lbry.com/faq/video-publishing-guide">publishing guide</a> for transcoding instructions and our recommended video settings.</p>
<p><strong>Update March 20, 2020</strong>: 12 hours after I wrote this post, we switched from TCP to QUIC for file transfers between the lbry.tv blob cache and the player servers (<a href="https://twitter.com/LBRYio/status/1240996921000570883">announcement</a>). That improved bandwidth by 3x, greatly reducing buffering. This improvement is just for lbry.tv for now. It will be in the apps ASAP.</p>
<p>Down the road, we'd like to add more support for automatic client-side compression in the app, including creating multiple versions of each video file for different internet speeds. This would require updates to the claim metadata structure to store information about multiple streams in one claim. Even more long-term, we could encourage the ecosystem to support third-party services that offer to do the transcoding and hosting (for a fee) by making it easier to run and use the necessary infrastructure.</p>
<h2>How nerdy do you want it?</h2>
<p>Hey readers, I have a quick question for you. This channel is meant for a techincal audience. I want to strike the right balance between explaining things in a simple and accessible way and not boring you with the basics that everyone already knows. Is the post above too detailed, not detailed enough, or just right? What would you want to see more of? Let me know in the comments. Cheers!</p></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/buffering";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-8296ab92a56f464716e4.js"],"app":["/app-c474f2b04f2725bec8ba.js"],"component---src-pages-404-js":["/component---src-pages-404-js-57a9046ee816fc279f05.js"],"component---src-pages-index-js":["/component---src-pages-index-js-2ac4fa1a3f0a1ae191c4.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-9c3ee7bf412a007fbf2c.js"]};/*]]>*/</script><script src="/polyfill-8296ab92a56f464716e4.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-9c3ee7bf412a007fbf2c.js" async=""></script><script src="/app-c474f2b04f2725bec8ba.js" async=""></script><script src="/styles-9411612e31e4f14527d1.js" async=""></script><script src="/framework-3e6dec6139dadaa7d0c7.js" async=""></script><script src="/webpack-runtime-969c07431224231c0f8f.js" async=""></script></body></html>